<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
</h:head>

<body>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<f:view>

					<div class="form_main col-xs-12">
						<h:outputLabel value="#{taskBean.greeting}" />
						<hr />
					</div>

					<div class="form_main col-xs-8">
						<h4 class="heading">
							<strong>Add </strong> Task <span></span>
						</h4>
						<div>

							<h:form id="mainForm">
								<p:growl id="msgs" showDetail="true" />
								<div class="form-group">
									<p:outputLabel value="Title:" />
									<h:inputText value="#{taskBean.taskModel.title}"
										styleClass="form-control" pt:placeholder="Title"></h:inputText>
									<p:message for="@previous" />
								</div>
								<div class="form-group">
									<p:outputLabel value="Description:" />
									<h:inputTextarea value="#{taskBean.taskModel.description}"
										styleClass="form-control" pt:placeholder=" Description"></h:inputTextarea>
								</div>
								<!-- 								<div class="form-group"> -->
								<!-- 									<p:outputLabel for="cStartDate" value="Start date:" /> -->
								<!-- 									<p:calendar id="cStartDate" -->
								<!-- 										value="#{taskBean.taskModel.startDate}" pattern="yyyy-MM-dd" -->
								<!-- 										converter="localDateTimeConverter" -->
								<!-- 										inputStyleClass="form-control" /> -->
								<!-- 								</div> -->
								<!-- 								<div class="form-group"> -->
								<!-- 									<p:outputLabel for="cDueDate" value="Due date:" /> -->
								<!-- 									<p:calendar id="cDueDate" value="#{taskBean.taskModel.dueDate}" -->
								<!-- 										pattern="yyyy-MM-dd" converter="localDateTimeConverter" -->
								<!-- 										inputStyleClass="form-control" /> -->
								<!-- 								</div> -->
								<div class="form-row col-xs-12">
									<div class="form-group col-xs-6"
										style="padding-left: 0px; margin-left: -15px">
										<p:outputLabel for="cStartDate" value="Start date:" />
										<p:calendar id="cStartDate"
											value="#{taskBean.taskModel.startDate}" pattern="yyyy-MM-dd"
											converter="localDateTimeConverter"
											inputStyleClass="form-control" />
									</div>
									<div class="form-group col-xs-6">
										<p:outputLabel for="cDueDate" value="Due date:" />
										<p:calendar id="cDueDate"
											value="#{taskBean.taskModel.dueDate}" pattern="yyyy-MM-dd"
											converter="localDateTimeConverter"
											inputStyleClass="form-control" />
									</div>
								</div>
								<div class="form-group">
									<p:outputLabel for="bCompleted" value="Set as Completed:" />
									<p:selectBooleanButton id="bCompleted"
										value="#{taskBean.taskModel.completed}" onLabel="Yes"
										offLabel="No" style="width:60px"
										inputStyleClass="form-control" />
								</div>
								<hr />
								<h:commandButton class="btn btn-primary" value="Save"
									action="${taskBean.saveTask(taskBean.taskModel.id)}"></h:commandButton>
								<h:commandButton class="btn" value="Clear"
									action="${taskBean.clearTask()}"></h:commandButton>
								<h:commandButton class="btn" value="Delete"
									action="${taskBean.deleteTask(taskBean.taskModel.id)}"></h:commandButton>

							</h:form>

						</div>
					</div>

					<div class="form_main col-xs-12">
						<hr />
						<h:form id="tableForm">

							<p:dataTable id="tasks" var="taskModel"
								value="#{taskBean.taskListModel}" selectionMode="single"
								selection="#{taskBean.selectedTaskModel}"
								rowKey="#{taskModel.id}">
								<f:facet name="header">Tasks</f:facet>
								<p:ajax event="rowSelect" listener="#{taskBean.onRowSelect}"
									update="mainForm" />
								<p:column headerText="Title">
									<h:outputText value="#{taskModel.title}" />
								</p:column>
								<p:column headerText="Due">
									<h:outputText value="#{taskModel.dueDate}" />
								</p:column>
								<p:column headerText="CreatedOn">
									<h:outputText value="#{taskModel.createdOn}" />
								</p:column>
								<p:column headerText="UpdateOn">
									<h:outputText value="#{taskModel.updateDate}" />
								</p:column>
								<p:column headerText="Completed">
									<h:outputText value="#{taskModel.completed}" />
								</p:column>

							</p:dataTable>
						</h:form>
						<h:outputLabel value="#{taskBean.taskCount}" />
					</div>

				</f:view>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12">
				<button class="btn btn-info">About</button>
			</div>
		</div>
	</div>
</body>

</html>